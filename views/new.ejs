<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <% include ../partials/head.ejs %>
    <meta charset="utf-8">
    <title>Farmer-Portal</title>
  </head>
  <body>
    <!-- navbar -->
    <% include ../partials/nav.ejs %>
    <div class='container'>
          <h1 class="farmer-header">Welcome!</h1>
          <div class="form-group row new-item create-input">
            <form class="form-inline" action="/shop" method="POST">
              <div class="col">
                <input class="input-boxes" type="text" name="name" placeholder="Name"/>
                <input class="input-boxes" type="text" name="description" placeholder="Description"/>
                <input class="input-boxes" type="text" name="img" placeholder="Image URL"/>
                <input class="input-boxes" type="text" name="price" placeholder="Price"/>
              </div>
              <div class="col">
                <input class="input-boxes" type="text" name="qty" placeholder="Quantity"/>
                <input class="input-boxes" type="text" name="farmName" placeholder="Farm Name"/>
                <input class="btn btn-main input-btn" type="submit" name="" value="Create Product"/>
              </div>
            </form>
          </div>
            <div class="table-responsive table-small">
            <h1 class="farmer-header">Your Inventory:</h1>
            <table class="table">
              <thead>
                <th class="header-text" scope="col">Name</th>
                <th class="header-text" scope="col">Price</th>
                <th class="header-text" scope="col">Quantity Available</th>
                <th class="header-text" scope="col"></th>
                <th class="header-text" scope="col"></th>
              </thead>
              <% for (let i = 0; i < product.length; i ++) { %>
                <!-- Modal -->
                <!-- <div id="myModal<%=i%>" class="modal fade" role="dialog"> -->
              <tr>
                <th class="info-table" scope="col"><%=product[i].name%></th>
                <th class="info-table" scope="col"><%=product[i].price%></th>
                <th class="info-table" scope="col"><%=product[i].qty%></th>
                <th scope="col">
                <% if (product[i].qty <= 0) { %>
                  <!-- red update button when item is out of stock -->
                  <form action="/shop/<%=product[i].id%>/edit" method="GET">
                    <input type="submit" value="UPDATE" class="btn btn-delete"/>
                  </form>
                  <% } else { %>
                  <!-- regular update button when items are in stock -->
                  <form action="/shop/<%=product[i].id%>/edit" method="GET">
                    <input type="submit" value="UPDATE" class="btn btn-main"/>
                  </form> <% } %>
                </th>
                </tr>
              </div>

                <% } %>
            </table>
            <!-- </div> -->
        <div class="div-button">
          <form method='GET' action='/shop'>
            <button class="btn btn-main bottom-btn" type='submit'>BACK</button>
          </form>
        </div>
    </div>
  </body>
</html>
